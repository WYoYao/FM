<div id="see_planDetail_bg" v-if="onPage=='createPlan' && PreView">
    <div class="see_planDetail_box">
        <div class="see_planDetail_page">
            <div class="see_planDetail_page_top">
                <div class="see_planDetail_page_back">
                    <pbutton-white bind='true' text="'返回'" @click="onPage='createPlan'"></pbutton-white>
                </div>
                <!-- <div class=" see_planDetail_object_tishi " v-if="true ">！标准操作中有几处需记录操作结果的对象，请在下面表格的相应位置为其选择具体的系统设备</div> -->

                <!-- <div class="modify_position_person_text ">此计划的工单将会发送给：
                    <span v-text=" 'commonData.publicModel.positionPersonStr' " :title="
                        'commonData.publicModel.personStr' ">xx岗、xx人...</span>
                </div> -->
                <div class="modify_position_person_btn" @click="onPage='createPlan'">上一步</div>

                <div class=" see_planDetail_page_save ">
                    <div>
                        <pbutton-blue bind='true' text=" '发布' " @click="void 0 "></pbutton-blue>
                    </div>
                </div>
            </div>
            <!-- <div class="see_planDetail_object_tishi " v-if="true ">！标准操作中有几处需记录操作结果的对象，请在下面表格的相应位置为其选择具体的系统设备</div> -->
            <div class="see_planDetail_page_grid " @click="ObjectByClassId =void 0">
                <!-- 顶部列表 -->
                <div class="see_planDetail_grid_top ">
                    <div class="see_planDetail_grid_top_title ">
                        <h3>基本信息</h3>
                    </div>
                    <div class="see_planDetail_grid_top_tit_con see_planDetail_grid_top_tit_con1 ">
                        <div>
                            <span>工单类型：</span>
                            <i v-text="(_.find(base.WorkOrderType,{code:base.addWoPlan.order_type}) || {}).name"></i>
                        </div>
                        <div>
                            <span>工单紧急程度：</span>
                            <i v-text="(_.find(base.urgencyType,{code:base.addWoPlan.urgency}) || {}).name"></i>
                        </div>
                    </div>
                    <div class="see_planDetail_grid_top_tit_con see_planDetail_grid_top_tit_con2 ">
                        <div>
                            <span>
                                工单提前发送时间：
                            </span>
                            <i>提前
                                <em v-text="base.addWoPlan.ahead_create_time"></em>小时</i>
                        </div>
                        <div>
                            <span>计划生效时间：</span>
                            <i v-text="(_.find(base.plan_start_type,{code:base.addWoPlan.plan_start_type}) || {}).name">
                            </i>&nbsp;——&nbsp;
                            <i v-text="(_.find(base.plan_end_time_type,{code:base.addWoPlan.plan_end_type}) || {}).name"></i>
                        </div>
                    </div>
                    <div class="see_planDetail_grid_top_tit_con see_planDetail_grid_top_tit_con3 ">
                        <h4>计划频率：</h4>
                        <span>每
                            <i v-text="(_.find(base.freq_cycleType,{code:base.addWoPlan.freq_cycle}) || {}).name"></i>
                            <em v-text="base.addWoPlan.freq_num"></em>次</span>
                        <div>

                            (
                            <span v-for="(item,index) in base.addWoPlan.freq_times">
                                <i v-text="'第'+ index+1 +'次'"></i>
                                <i v-text="fill(item.start_time.time_month,2) + '.'+ fill(item.start_time.time_day,2) + ' '+ fill(item.start_time.time_hour,2)+ ':'+ fill(item.start_time.time_minute,2)"></i>
                                <em>至</em>
                                <i v-text="fill(item.end_time.time_month,2) + '.'+ fill(item.end_time.time_day,2) + ' '+ fill(item.end_time.time_hour,2)+ ':'+ fill(item.end_time.time_minute,2)"></i>
                            </span>)
                        </div>
                    </div>
                    <div class="see_planDetail_grid_line ">
                    </div>
                    <div class="see_planDetail_grid_top_title ">
                        <h3>计划内的工作事项详情</h3>
                    </div>
                </div>
                <!-- 内容区域 -->
                <div class="see_planDetail_grid_tab_ul" v-for="(matters,index1) in WoMattersPreview.published_matters">
                    <div class="see_planDetail_grid_tab_tit">
                        <div class="see_planDetail_grid_name" v-text="matters.matter_name">
                        </div>
                    </div>
                    <div class="see_planDetail_grid_tab">
                        <!-- {{有id或者有描述}} -->
                        <div class="see_planDetail_grid_tab_div">
                            <!-- 左侧列表 -->
                            <div class="see_planDetail_grid_tab_left">
                                <div class="see_planDetail_grid_matter_info">
                                    <h4>事件概述：</h4>
                                    <p v-text="matters.description"></p>
                                </div>
                                <div class="see_planDetail_grid_list" v-for="(matter_steps,index2) in matters.matter_steps" v-for="(steps,index3) in matter_steps.steps"
                                    v-if="matter_steps.obj_id || matter_steps.description">
                                    <ul>
                                        <!-- 判断如果内容是常规内容并且数量大于0 -->
                                        <li class="see_planDetail_grid_list_operat2">
                                            <h4 v-text="steps.step_sequence"></h4>
                                            <div>
                                                <span v-text="steps.content" v-if="steps.step_type == '3'||steps.step_type == '4'">
                                                    到达指定位置拍照
                                                </span>
                                                <span v-text="" v-if="steps.step_type == '1'">

                                                </span>
                                                <ul v-if="steps.step_type != '3'&& steps.step_type != '4'&& steps.step_type != '6'&& steps.step_type !='1'">
                                                    <li v-if="steps.pre_conform && steps.pre_conform != '--'">
                                                        <h5>强制确认操作前提：</h5>
                                                        <p v-text="steps.pre_conform"></p>
                                                    </li>
                                                    <li v-if="steps.content && steps.content != '--'">
                                                        <h5>标准作业操作内容：</h5>
                                                        <p v-text="steps.content"></p>
                                                    </li>
                                                    <li v-if="steps.notice && steps.notice != '--'">
                                                        <h5>注意事项：</h5>
                                                        <p v-text="steps.notice"></p>
                                                    </li>
                                                    <li>
                                                        <h5>确认操作结果：</h5>
                                                        <div v-for="(confirm_result,index4) in steps.confirm_result">
                                                            <!-- {{steps.confirm_result}} -->
                                                            <div class="confirm_result_div1">
                                                                <div class="confirm_result_div2">
                                                                    <em v-text="confirm_result.obj_name"></em>
                                                                    <span v-for="(parents,pIndex) in confirm_result.parents">
                                                                        (
                                                                        <i v-for="(names,naIndex) in parents.parent_names" v-text="parents.parent_names.length == naIndex + 1?names : names + '-'"></i>)
                                                                    </span>
                                                                </div>
                                                                <div class="choiceObjectBtn">
                                                                    <div :type="confirm_result.obj_type">
                                                                        <section style="position: relative;" v-show="confirm_result.obj_type == 'system_class' || confirm_result.obj_type == 'equip_class'">
                                                                            <pbutton-blue bind="true" text="'选择具体系统设备'" @click.stop="ObjectByClassId=confirm_result;queryObjectByClass(confirm_result.obj_id,confirm_result.obj_type)"></pbutton-blue>

                                                                            <div class="choiceObjExampleModal" v-if="ObjectByClassId == confirm_result" @click.stop="">
                                                                                <h4 :title="confirm_result.obj_name + '-' + getparent_names(confirm_result.parents)">
                                                                                    <span v-text="confirm_result.obj_name"></span>
                                                                                    <i v-text="'('+ getparent_names(confirm_result.parents) + ')'"></i>
                                                                                </h4>
                                                                                <ul id="choiceObjExample_tree">
                                                                                    <li :title="item.obj_name" v-for="item in ObjectByClass" v-text="item.obj_name" @click="handder_click(confirm_result,item)"></li>
                                                                                </ul>
                                                                                <ploading-part id="object_loading" text="加载中..."></ploading-part>
                                                                                <section class="planNextNodata" v-show="!ObjectByClass.length">
                                                                                    <div>
                                                                                        <img src="../../../../images/sassNodata.png" alt="">
                                                                                    </div>
                                                                                    <span>当前尚无设备/当前尚无系统</span>
                                                                                </section>
                                                                                <div class="choiceObjExampleModal_bottom">
                                                                                </div>
                                                                            </div>
                                                                        </section>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="plan_next_infoPoint">
                                                                <ul>
                                                                    <li v-for="info_points in confirm_result.info_points" v-text="info_points.name"></li>
                                                                </ul>
                                                                <ul>
                                                                    <li v-for="customs_info in confirm_result.customs" v-text="customs_info.name"></li>
                                                                </ul>
                                                                <!--
                                                                <i v-for="info_points in confirm_result.info_points" v-text="info_points.name"></i>
                                                                <i v-for="customs in confirm_result.customs" v-text="customs.name"></i>
-->
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                                <!-- <p v-if="steps.step_type == '6'" v-text="steps.content"></p> -->
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- 没有id且没有描述 -->
                        <div v-if="!matter_steps.obj_id && !matter_steps.description" class="see_planDetail_grid_tab_div_sign">
                            <div class="see_planDetail_grid_tab_div_sign_left">
                                签字：
                            </div>
                            <div class="see_planDetail_grid_tab_div_sign_rig">
                                <span>操作人:</span>
                                <!-- leo -->
                                <i v-text="_.isArray(matter_steps.executors)?matter_steps.executors.join('、'):''"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>